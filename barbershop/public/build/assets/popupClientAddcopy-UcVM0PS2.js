import{J as j,x as E,r as i,j as s}from"./app-CvuLb3Vv.js";import{C as t}from"./popupuser.module-Ck2_fLBJ.js";import{T as h,I as c}from"./TextInput-Kkq3SxrG.js";import{I as l}from"./InputLabel-BKf6ruEm.js";function T({onClose:a,title:v}){const{salons:g,coiffeurs:_}=j().props,{data:r,setData:n,post:N,processing:u,errors:o,reset:b}=E({nom:"",contacts:"",id_salon:"",id_coiffeur:""}),{props:m}=j(),[d,p]=i.useState(null),[x,f]=i.useState(null);i.useEffect(()=>{const e=m.flash;e!=null&&e.success&&(p(e.success),setTimeout(()=>{p(null),a()},2500)),e!=null&&e.error&&(f(e.error),setTimeout(()=>f(null),3e3))},[m.flash,a]);const C=e=>{e.preventDefault(),N(route("ajoutclient"),{onFinish:()=>b("nom","contacts")})};return s.jsx("div",{className:t.overlay,onClick:e=>e.target===e.currentTarget&&a(),children:s.jsxs("div",{className:t.popup,children:[s.jsxs("h2",{children:["👤 ",v]}),d&&s.jsxs("div",{className:"mb-4 text-green-400",children:["✅ ",d]}),x&&s.jsxs("div",{className:"mb-4 text-red-400",children:["❌ ",x]}),s.jsxs("form",{onSubmit:C,children:[s.jsx(l,{htmlFor:"nom",value:"Nom du Client"}),s.jsx(h,{id:"nom",name:"nom",type:"text",placeholder:"Entrez le nom du client",value:r.nom,onChange:e=>n("nom",e.target.value),className:t.input,required:!0}),s.jsx(c,{message:o.nom,className:t.error}),s.jsx(l,{htmlFor:"contacts",value:"Contact du Client"}),s.jsx(h,{id:"contacts",name:"contacts",type:"text",placeholder:"Entrez le contact du client",value:r.contacts,onChange:e=>n("contacts",e.target.value),className:t.input,required:!0}),s.jsx(c,{message:o.contacts,className:t.error}),s.jsx(l,{htmlFor:"id_salon",value:"Salon"}),s.jsxs("select",{id:"id_salon",name:"id_salon",value:r.id_salon,onChange:e=>n("id_salon",e.target.value),className:t.select,required:!0,children:[s.jsx("option",{value:"",children:"🏪 Sélectionnez un salon"}),g.map(e=>s.jsx("option",{value:e.id_salon,children:e.nom},e.id_salon))]}),s.jsx(c,{message:o.id_salon,className:t.error}),s.jsx(l,{htmlFor:"id_coiffeur",value:"Coiffeur"}),s.jsxs("select",{id:"id_coiffeur",name:"id_coiffeur",value:r.id_coiffeur,onChange:e=>n("id_coiffeur",e.target.value),className:t.select,required:!0,children:[s.jsx("option",{value:"",children:"✂️ Sélectionnez un coiffeur"}),_.map(e=>s.jsx("option",{value:e.id_coiffeur,children:e.nom},e.id_coiffeur))]}),s.jsx(c,{message:o.id_coiffeur,className:t.error}),s.jsxs("div",{className:t.btns,children:[s.jsx("button",{type:"submit",className:t.validateBtn,disabled:u,children:u?"⏳ Enregistrement...":"💾 Enregistrer"}),s.jsx("button",{type:"button",onClick:a,className:t.cancelBtn,children:"❌ Annuler"})]})]})]})})}export{T as default};
