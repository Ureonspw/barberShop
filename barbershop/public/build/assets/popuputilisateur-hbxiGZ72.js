import{x as N,J as b,r as u,j as e}from"./app-CvuLb3Vv.js";import{C as a}from"./popupuser.module-Ck2_fLBJ.js";import{T as m,I as l}from"./TextInput-Kkq3SxrG.js";import{I as i}from"./InputLabel-BKf6ruEm.js";function y({onClose:n,title:g}){const{data:r,setData:t,post:v,processing:c,errors:o,reset:f}=N({name:"",email:"",password:"",role:"caissier",password_confirmation:""}),{props:d}=b(),[p,x]=u.useState(null),[j,h]=u.useState(null);u.useEffect(()=>{const s=d.flash;s!=null&&s.success&&(x(s.success),setTimeout(()=>{x(null),n()},2500)),s!=null&&s.error&&(h(s.error),setTimeout(()=>h(null),3e3))},[d.flash,n]);const w=s=>{s.preventDefault(),v(route("ajoututilisateur"),{onFinish:()=>f("password","password_confirmation")})};return e.jsx("div",{className:a.overlay,onClick:s=>s.target===s.currentTarget&&n(),children:e.jsxs("div",{className:a.popup,children:[e.jsxs("h2",{children:["👤 ",g]}),p&&e.jsxs("div",{className:"mb-4 text-green-400",children:["✅ ",p]}),j&&e.jsxs("div",{className:"mb-4 text-red-400",children:["❌ ",j]}),e.jsxs("form",{onSubmit:w,children:[e.jsx(i,{htmlFor:"name",value:"Nom d'utilisateur"}),e.jsx(m,{id:"name",name:"name",value:r.name,className:a.input,onChange:s=>t("name",s.target.value),required:!0,placeholder:"Entrez le nom d'utilisateur"}),e.jsx(l,{message:o.name,className:a.error}),e.jsx(i,{htmlFor:"email",value:"Adresse email"}),e.jsx(m,{id:"email",type:"email",name:"email",value:r.email,className:a.input,onChange:s=>t("email",s.target.value),required:!0,placeholder:"Entrez l'adresse email"}),e.jsx(l,{message:o.email,className:a.error}),e.jsx(i,{htmlFor:"role",value:"Rôle utilisateur"}),e.jsxs("select",{id:"role",name:"role",className:a.select,value:r.role,onChange:s=>t("role",s.target.value),children:[e.jsx("option",{value:"caissier",children:"💰 Caissier"}),e.jsx("option",{value:"admin",children:"👑 Administrateur"})]}),e.jsx(l,{message:o.role,className:a.error}),e.jsx(i,{htmlFor:"password",value:"Mot de passe"}),e.jsx(m,{id:"password",type:"password",name:"password",value:r.password,className:a.input,onChange:s=>t("password",s.target.value),required:!0,placeholder:"Entrez le mot de passe"}),e.jsx(l,{message:o.password,className:a.error}),e.jsx(i,{htmlFor:"password_confirmation",value:"Confirmation du mot de passe"}),e.jsx(m,{id:"password_confirmation",type:"password",name:"password_confirmation",value:r.password_confirmation,className:a.input,onChange:s=>t("password_confirmation",s.target.value),required:!0,placeholder:"Confirmez le mot de passe"}),e.jsx(l,{message:o.password_confirmation,className:a.error}),e.jsxs("div",{className:a.btns,children:[e.jsx("button",{type:"submit",className:a.validateBtn,disabled:c,children:c?"⏳ Enregistrement...":"💾 Enregistrer"}),e.jsx("button",{type:"button",className:a.cancelBtn,onClick:n,children:"❌ Annuler"})]})]})]})})}export{y as default};
