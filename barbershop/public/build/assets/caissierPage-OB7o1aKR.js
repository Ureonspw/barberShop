import{j as s,t as C,S as j}from"./app-CvuLb3Vv.js";import{A as g,C as e}from"./AuthenticatedLayoutcaissier-Da-n7tXx.js";import{j as n,p as t,k as S,d as o,q as F,f as y,a as _,r as T,s as q,e as x,t as A}from"./index-kRwWHyEk.js";import{M as P,a as R,b}from"./index-Dc8vIfrn.js";import"./ResponsiveNavLink-BWydkspo.js";import"./barberlogo-CCddF666.js";import"./transition-DKRl218_.js";import"./iconBase-wn5QK0Z3.js";function B({stats:r,recentPaiements:m,topCoiffeurs:h,salons:l,selectedSalonId:c}){const d=i=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(i),u=i=>new Date(i).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=i=>{switch(i){case"especes":return s.jsx(b,{});case"carte":return s.jsx(n,{});case"cheque":return s.jsx(R,{});default:return s.jsx(n,{})}},N=i=>{i?j.get(route("caissier"),{salon_id:i},{preserveState:!0,preserveScroll:!0}):j.get(route("caissier"),{},{preserveState:!0,preserveScroll:!0})},p=()=>{if(!c)return"Tous les salons";const i=l.find(a=>a.id_salon===c);return i?i.nom:"Tous les salons"},f=[{titre:"Nouveau Paiement",description:"Traiter un nouveau paiement pour un client",icone:s.jsx(n,{}),lien:route("caissier.paiement.page"),couleur:"#ffaa2a"},{titre:"Historique",description:"Consulter l'historique des paiements",icone:s.jsx(t,{}),lien:route("caissier.historique"),couleur:"#28a745"}];return s.jsx(g,{children:s.jsx("div",{className:e.caissierPage,children:s.jsxs("div",{className:e.container,children:[s.jsxs("div",{className:e.header,children:[s.jsx("h1",{children:"Tableau de Bord - Caissier"}),s.jsx("p",{children:"Bienvenue ! Gérez vos paiements et suivez vos performances"})]}),s.jsx("div",{className:e.filterSection,children:s.jsxs("div",{className:e.filterCard,children:[s.jsxs("div",{className:e.filterHeader,children:[s.jsx(S,{}),s.jsx("h3",{children:"Filtrer par Salon"})]}),s.jsxs("div",{className:e.filterContent,children:[s.jsxs("select",{className:e.filterSelect,value:c||"",onChange:i=>N(i.target.value),children:[s.jsx("option",{value:"",children:"Tous les salons"}),l.map(i=>s.jsxs("option",{value:i.id_salon,children:[i.nom," - ",i.adresse]},i.id_salon))]}),s.jsxs("div",{className:e.filterInfo,children:[s.jsx(o,{}),s.jsxs("span",{children:["Statistiques pour : ",s.jsx("strong",{children:p()})]})]})]})]})}),s.jsxs("div",{className:e.statsGrid,children:[s.jsxs("div",{className:e.statCard,children:[s.jsx("div",{className:e.statIcon,children:s.jsx(F,{})}),s.jsxs("div",{className:e.statContent,children:[s.jsx("div",{className:e.statValue,children:r.aujourdhui.paiements}),s.jsx("div",{className:e.statLabel,children:"Paiements Aujourd'hui"})]})]}),s.jsxs("div",{className:e.statCard,children:[s.jsx("div",{className:e.statIcon,children:s.jsx(y,{})}),s.jsxs("div",{className:e.statContent,children:[s.jsx("div",{className:e.statValue,children:d(r.aujourdhui.montant)}),s.jsx("div",{className:e.statLabel,children:"Chiffre d'Affaires"})]})]}),s.jsxs("div",{className:e.statCard,children:[s.jsx("div",{className:e.statIcon,children:s.jsx(_,{})}),s.jsxs("div",{className:e.statContent,children:[s.jsx("div",{className:e.statValue,children:r.aujourdhui.clients}),s.jsx("div",{className:e.statLabel,children:"Nouveaux Clients"})]})]}),s.jsxs("div",{className:e.statCard,children:[s.jsx("div",{className:e.statIcon,children:s.jsx(P,{})}),s.jsxs("div",{className:e.statContent,children:[s.jsx("div",{className:e.statValue,children:d(r.semaine.montant)}),s.jsx("div",{className:e.statLabel,children:"CA de la Semaine"})]})]})]}),s.jsxs("div",{className:e.fonctionnalitesSection,children:[s.jsxs("h2",{className:e.sectionTitle,children:[s.jsx(n,{}),"Fonctionnalités Principales"]}),s.jsx("div",{className:e.fonctionnalitesGrid,children:f.map((i,a)=>s.jsxs(C,{href:i.lien,className:e.fonctionnaliteCard,style:{"--couleur":i.couleur},children:[s.jsx("div",{className:e.fonctionnaliteIcon,children:i.icone}),s.jsxs("div",{className:e.fonctionnaliteContent,children:[s.jsx("h3",{children:i.titre}),s.jsx("p",{children:i.description})]}),s.jsx("div",{className:e.fonctionnaliteArrow,children:s.jsx(T,{})})]},a))})]}),s.jsxs("div",{className:e.content,children:[s.jsxs("div",{className:e.historiqueSection,children:[s.jsxs("h2",{className:e.historiqueTitle,children:[s.jsx(t,{}),"Derniers Paiements"]}),m.length>0?m.map(i=>s.jsxs("div",{className:e.paiementCard,children:[s.jsxs("div",{className:e.paiementHeader,children:[s.jsxs("span",{className:e.clientName,children:[s.jsx(q,{style:{marginRight:"5px"}}),i.client.nom]}),s.jsx("span",{className:e.montant,children:d(i.somme_paiement)})]}),s.jsxs("div",{className:e.paiementDetails,children:[s.jsxs("div",{children:[s.jsx(x,{style:{marginRight:"5px"}}),s.jsx("strong",{children:"Coiffeur:"})," ",i.client.coiffeur.nom]}),s.jsxs("div",{children:[s.jsx(o,{style:{marginRight:"5px"}}),s.jsx("strong",{children:"Salon:"})," ",i.salon.nom]}),s.jsxs("div",{children:[s.jsx(t,{style:{marginRight:"5px"}}),s.jsx("strong",{children:"Date:"})," ",u(i.date_paiement)]}),s.jsx("div",{children:s.jsxs("span",{className:`${e.modePaiement} ${e.modePaiement[i.mode_paiement]}`,children:[v(i.mode_paiement),i.mode_paiement]})})]})]},i.id_paiement)):s.jsxs("div",{className:e.emptyState,children:[s.jsx(t,{size:64}),s.jsx("p",{children:"Aucun paiement récent"})]})]}),s.jsxs("div",{className:e.historiqueSection,children:[s.jsxs("h2",{className:e.historiqueTitle,children:[s.jsx(A,{}),"Top Coiffeurs du Jour"]}),h.length>0?s.jsx("div",{className:e.topCoiffeursList,children:h.map((i,a)=>s.jsxs("div",{className:e.topCoiffeurCard,children:[s.jsxs("div",{className:e.topCoiffeurRank,children:["#",a+1]}),s.jsxs("div",{className:e.topCoiffeurInfo,children:[s.jsx("h4",{children:i.coiffeur.nom}),s.jsx("p",{children:i.coiffeur.specialite})]}),s.jsx("div",{className:e.topCoiffeurStats,children:s.jsxs("span",{className:e.topCoiffeurClients,children:[i.total_clients," clients"]})})]},i.id_coiffeur))}):s.jsxs("div",{className:e.emptyState,children:[s.jsx(x,{size:64}),s.jsx("p",{children:"Aucun coiffeur actif aujourd'hui"})]}),s.jsxs("div",{className:e.salonsSection,children:[s.jsxs("h3",{className:e.salonsTitle,children:[s.jsx(o,{}),"Salons Disponibles"]}),s.jsx("div",{className:e.salonsList,children:l.map(i=>s.jsxs("div",{className:e.salonCard,children:[s.jsx("h4",{children:i.nom}),s.jsx("p",{children:i.adresse}),s.jsxs("span",{className:e.salonCoiffeurs,children:[i.coiffeurs.length," coiffeur(s)"]})]},i.id_salon))})]})]})]})]})})})}export{B as default};
